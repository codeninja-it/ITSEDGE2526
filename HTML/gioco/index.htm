<html>
	<head>
		<title>Gioco dell'oca</title>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="asset/stile.css" />
	</head>
	<body>
		<h1>Gioco dell'Oca</h1>
		<p>Clicca sul pulsante tira per lanciare il dado!</p>
		<button onclick="Tiro();">tira dado</button>
		<button>ricomincia</button>
		<table align="center">
			<tr>
				<td align="center">Utente</td>
				<td align="center">PC</td>
			</tr>
			<tr>
				<td><input id="plr1" /></td>
				<td><input id="plr2" /></td>
			</tr>
		</table>
		
		<script>
			// tutte le variabili che devo usare
			var tabellone;
			var utente;
			var pc;
			
			function D6(){
				// estraggo la mia percentuale
				var seed = Math.random();
				// lo zoommo sulle possibilitÃ  che ho
				var posizione = seed * 6;
				// tolgo i decimali segandoli
				posizione = parseInt(posizione);
				// sposto la mia serie 0->5 di una posizione sulla destra
				// ovvero 1->6
				posizione = posizione + 1;
				// restituisco all'utente
				return posizione;
			}
			
			function preparazione(){
				// posizioniamo le pedine
				utente = 0;
				pc = 0;
				// e costruiamo il tabellone
				tabellone = [
					0, 0, 2, 0, 0, 
					-4, 3, 0, -1, 0, 
					7, 0, -12, 1, 0, 
					2, -5, 0, 2, -19
				];
				console.log("--==INIZIO PARTITA==--");
				console.log("utente:\t" + utente);
				console.log("pc:\t" + pc);
			}
			
			function turno(pedina, percorso){
				// lancia il dado
				var dado = D6();
				// sposto la pedina alla nuova casella
				pedina = pedina + dado;
				// controllo il malus o il bonus
				var modificatore = percorso[pedina];
				// sposto di nuovo la pedina
				return pedina + modificatore;
			}
			
			function turnoUtente(){
				utente = turno(utente, tabellone);
			}
			
			function turnoPC(){
				pc = turno(pc, tabellone);
			}
			
			function controllo(){
				if(isNaN(utente)){
					console.warn("--==!!!HAI VINTO!!!==--");
				} else if(isNaN(pc)){
					console.error("--==!?!HAI PERSO!?!==--");
				} else {
					console.log("utente:\t" + utente);
					console.log("pc:\t" + pc);
				}
			}
			
			function Tiro(){
				turnoUtente();
				turnoPC();
				controllo();
			}
			
			preparazione();
			
		</script>
	</body>
</html>